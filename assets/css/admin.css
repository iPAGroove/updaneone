/* ============================================================
   URSA ADMIN PANEL — v4 Premium Graphite Skin
   Clean. Sleek. Modern.
   ============================================================ */

/* ===================== ROOT VARIABLES ===================== */
:root {
  --bg: #0c0f14;
  --bg2: #11151c;
  --bg3: #171c23;
  --bg-glass: rgba(17, 21, 28, 0.65);
  --stroke: rgba(255,255,255,0.08);
  --stroke-2: rgba(255,255,255,0.16);

  --text: #fff;
  --text-soft: #c6d4e1;
  --muted: rgba(255,255,255,0.50);

  --accent: #00d9ff;
  --accent-soft: rgba(0,217,255,0.25);

  --green: #20d977;
  --yellow: #ffd24d;
  --orange: #ff9e3d;
  --red: #ff5d5d;

  --radius: 10px;
  --radius-lg: 14px;

  --shadow: 0 8px 30px rgba(0,0,0,.45);
  --transition: .22s ease;
}

/* ===================== RESET & BASE ===================== */
* { box-sizing: border-box; }
html, body { margin:0; padding:0; height:100%; background:var(--bg); color:var(--text); font-family:-apple-system, BlinkMacSystemFont, "SF Pro Display", Inter, system-ui; }
button, input, select, textarea { font-family:inherit; color:inherit; }

/* Scrollbars */
::-webkit-scrollbar { width:6px; height:6px; }
::-webkit-scrollbar-thumb { background:rgba(255,255,255,0.18); border-radius:20px; }

/* Utility */
.sr-only { position:absolute!important; width:1px; height:1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
.muted { color:var(--muted); }

/* ===================== AUTH SCREEN ===================== */
.auth-screen {
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}
.auth-card {
  background:var(--bg2);
  border:1px solid var(--stroke);
  padding:30px;
  border-radius:var(--radius-lg);
  width:100%;
  max-width:420px;
  text-align:center;
  box-shadow:var(--shadow);
}
.brand-xl {
  font-size:32px;
  font-weight:800;
  letter-spacing:0.5px;
  margin-bottom:12px;
}
.brand-xl span { color:var(--accent); }
.error-text { min-height:20px; color:var(--red); margin-top:10px; }

/* ===================== LAYOUT ===================== */
.admin-root { height:100vh; }
.app-shell {
  display:grid;
  grid-template-columns:260px 1fr;
  height:100vh;
}

/* ===================== SIDEBAR ===================== */
.sidebar {
  background:var(--bg2);
  border-right:1px solid var(--stroke);
  display:flex;
  flex-direction:column;
}
.sidebar-brand {
  display:flex;
  align-items:center;
  gap:10px;
  padding:16px;
  border-bottom:1px solid var(--stroke);
}
.logo-dot {
  width:10px; height:10px;
  border-radius:50%;
  background:var(--accent);
  box-shadow:0 0 10px var(--accent);
}
.brand {
  font-weight:800;
  letter-spacing:.3px;
  font-size:17px;
}
.brand span { color:var(--accent); }

.side-nav {
  display:flex;
  flex-direction:column;
  padding:10px;
  gap:8px;
}
.side-link {
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  width:100%;
  font-weight:600;
  border-radius:var(--radius);
  border:1px solid transparent;
  background:transparent;
  color:var(--text-soft);
  cursor:pointer;
  transition:var(--transition);
}
.side-link:hover {
  background:#0f141b;
  border-color:var(--stroke);
  color:var(--text);
}
.side-link.active {
  background:var(--bg3);
  border-color:var(--stroke-2);
  color:var(--text);
}
.side-link.danger {
  color:#ff9a9a;
}
.side-link.danger:hover {
  background:#1a1111;
}

.pill {
  margin-left:auto;
  background:#1a2330;
  border:1px solid var(--stroke);
  padding:2px 8px;
  border-radius:999px;
  font-size:12px;
}

/* ===================== MAIN ===================== */
.main { display:flex; flex-direction:column; }

/* TOPBAR */
.topbar {
  position:sticky;
  top:0;
  z-index:10;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 18px;
  background:linear-gradient(180deg, rgba(17,21,28,0.95), rgba(17,21,28,0.85));
  backdrop-filter:blur(6px);
  border-bottom:1px solid var(--stroke);
}
.crumbs { font-weight:700; font-size:15px; }
.kbd-hint {
  padding:2px 6px;
  border-radius:6px;
  border:1px solid var(--stroke);
  color:var(--muted);
  font-weight:700;
}

/* ===================== VIEWS ===================== */
.views { padding:20px; }
.view { display:none; }
.view.active { display:block; }

/* ===================== INPUTS ===================== */
.input, .select {
  width:100%;
  max-width:420px;
  background:#0d1218;
  padding:10px 12px;
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  font-size:14px;
  transition:var(--transition);
}
.input:focus, .select:focus {
  outline:none;
  border-color:var(--stroke-2);
  box-shadow:0 0 0 3px rgba(255,255,255,0.05);
}

/* Filters */
.filters {
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin:10px 0 18px;
}

/* ===================== BUTTONS ===================== */
.btn {
  padding:10px 14px;
  border-radius:var(--radius);
  background:#18202a;
  border:1px solid var(--stroke);
  color:#d7e2ee;
  font-weight:700;
  cursor:pointer;
  transition:var(--transition);
}
.btn:hover {
  transform:translateY(-1px);
  border-color:var(--stroke-2);
}
.btn.small { padding:7px 10px; font-size:13px; }

.btn-accent {
  background:var(--accent);
  border:none;
  color:#000;
  font-weight:800;
}
.btn-accent:hover {
  filter:brightness(1.06);
  box-shadow:0 0 0 3px var(--accent-soft);
}

.btn-danger {
  background:#30161a;
  border:1px solid rgba(255,93,93,0.4);
  color:#ffbaba;
}
.btn-danger:hover { background:#3d1a20; }

.btn-ghost {
  background:transparent;
  border:1px solid var(--stroke);
  color:var(--text-soft);
}
.btn-ghost:hover {
  background:#101620;
  color:var(--text);
}

/* ===================== DASHBOARD ===================== */
.stats-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:14px;
}
.stat-card {
  background:var(--bg2);
  border:1px solid var(--stroke);
  padding:16px;
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow);
}
.stat-label { color:var(--muted); font-size:13px; margin-bottom:6px; }
.stat-value { font-size:30px; font-weight:800; }

/* ===================== APPS GRID ===================== */
.apps-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
  gap:16px;
}
.grid-skeleton {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
  gap:14px;
}
.card-skel {
  height:230px;
  background:linear-gradient(180deg,#131922,#1d2530);
  border:1px solid var(--stroke);
  border-radius:var(--radius-lg);
  animation:pulse 1.6s infinite;
}

@keyframes pulse {
  0% { opacity:1; }
  50% { opacity:0.45; }
  100% { opacity:1; }
}

.app-card {
  background:var(--bg2);
  border:1px solid var(--stroke);
  border-radius:var(--radius-lg);
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  box-shadow:var(--shadow);
  transition:var(--transition);
}
.app-card:hover {
  transform:translateY(-2px);
  border-color:var(--stroke-2);
}
.app-card .icon {
  width:100%;
  aspect-ratio:1/1;
  border-radius:12px;
  border:1px solid var(--stroke);
  object-fit:cover;
}
.app-card .ttl {
  font-weight:700;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.app-card .meta {
  display:flex;
  align-items:center;
  gap:8px;
}
.app-card .pill {
  padding:3px 8px;
  border-radius:999px;
  font-size:12px;
  font-weight:700;
}
.pill.vip { background:#1a2135; border:1px solid #2a3245; color:#cfe6ff; }
.pill.free { background:#101d14; border:1px solid #1e3528; color:#d8ffe8; }

.cnt { margin-left:auto; font-size:13px; color:var(--muted); }

/* ===================== USERS TABLE ===================== */
.table-wrap {
  border:1px solid var(--stroke);
  background:var(--bg2);
  border-radius:var(--radius);
  overflow:auto;
}
.data-table {
  width:100%;
  border-collapse:collapse;
}
.data-table thead th {
  background:#10161f;
  border-bottom:1px solid var(--stroke);
  padding:10px;
  text-align:left;
}
.data-table tbody td {
  padding:10px;
  border-bottom:1px solid var(--stroke);
}
.data-table tbody tr:hover td {
  background:#0f141b;
}

/* ===================== ORDERS LIST ===================== */
.orders-list {
  display:flex;
  flex-direction:column;
  gap:10px;
}
.order-row {
  border:1px solid var(--stroke);
  background:var(--bg2);
  padding:12px;
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:14px;
  border-radius:var(--radius);
  transition:var(--transition);
}
.order-row:hover {
  border-color:var(--stroke-2);
  background:#141a22;
}

.status {
  padding:3px 8px;
  font-size:12px;
  font-weight:700;
  border-radius:999px;
  border:1px solid var(--stroke);
}

.status.pending { background:#2a2416; color:#ffe4a0; border-color:#3d331a; }
.status.processing { background:#2a1f14; color:#fcd0ac; border-color:#3b2a1a; }
.status.completed { background:#1a261e; color:#d2ffe6; border-color:#213628; }
.status.canceled { background:#2a1818; color:#ffc7c7; border-color:#3a2020; }

.time { font-size:12px; color:var(--muted); }

/* ===================== CHAT PANEL ===================== */
.chat-panel {
  position:fixed;
  right:0; top:0; bottom:0;
  width:420px;
  max-width:100%;
  background:var(--bg2);
  border-left:1px solid var(--stroke);
  box-shadow:-12px 0 40px rgba(0,0,0,.45);
  transform:translateX(100%);
  transition:transform .3s ease;
  display:flex;
  flex-direction:column;
  z-index:50;
}
.chat-panel.open { transform:translateX(0); }

.chat-head {
  padding:12px;
  border-bottom:1px solid var(--stroke);
  background:#10161f;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.sub { font-size:12px; color:var(--muted); }

.chat-toolbar {
  display:flex;
  gap:10px;
  padding:10px;
  border-bottom:1px solid var(--stroke);
}

.chat-scroll {
  flex:1;
  padding:12px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.system-message {
  padding:8px;
  border:1px dashed var(--stroke);
  font-size:13px;
  border-radius:var(--radius);
  color:var(--muted);
}

.msg {
  max-width:78%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--stroke);
  font-size:14px;
}
.msg.user { background:#131a22; }
.msg.admin { background:#0c2530; border-color:#133642; }

.chat-input {
  padding:10px;
  border-top:1px solid var(--stroke);
  display:flex;
  gap:10px;
}

/* ===================== MODAL — ADD / EDIT IPA ===================== */
.modal {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:60;
  padding:20px;
}
.modal.visible { display:flex; }

.modal-card {
  width:100%;
  max-width:560px;
  background:var(--bg2);
  border:1px solid var(--stroke);
  border-radius:var(--radius-lg);
  padding:20px;
  box-shadow:var(--shadow);
}

.modal-title {
  font-size:20px;
  font-weight:800;
  margin-bottom:14px;
}

.modal-close {
  float:right;
  background:transparent;
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  padding:6px 10px;
  cursor:pointer;
  margin-bottom:10px;
}
.modal-close:hover { background:#0f141b; }

.form-group {
  margin-bottom:20px;
  padding-bottom:10px;
  border-bottom:1px solid var(--stroke);
}
.group-title {
  font-size:13px;
  font-weight:700;
  color:var(--muted);
  margin-bottom:10px;
}

label { display:block; margin-bottom:12px; font-size:14px; color:var(--text-soft); }
textarea {
  width:100%;
  background:#0d1218;
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  padding:10px;
  min-height:90px;
  color:var(--text);
  resize:vertical;
}

.icon-preview-wrap {
  display:flex;
  justify-content:left;
  margin:10px 0 12px;
}
.icon-preview {
  width:90px;
  height:90px;
  border-radius:14px;
  border:1px solid var(--stroke);
  object-fit:cover;
}

.tag-select { display:flex; gap:10px; }
.tag-btn {
  background:#0d1218;
  border:1px solid var(--stroke);
  color:var(--text-soft);
  padding:8px 14px;
  border-radius:var(--radius);
  cursor:pointer;
}
.tag-btn.active {
  background:#18202a;
  color:#fff;
  border-color:var(--accent);
}

.checkbox-line {
  display:flex;
  align-items:center;
  gap:8px;
}

.modal-actions {
  display:flex;
  justify-content:space-between;
  margin-top:14px;
}

/* ===================== RESPONSIVE ===================== */
@media (max-width:860px) {
  .app-shell {
    grid-template-columns:1fr;
  }
  .sidebar {
    position:sticky;
    top:0;
    z-index:20;
    border-bottom:1px solid var(--stroke);
  }
}
@media (max-width:520px) {
  .apps-grid {
    grid-template-columns:repeat(2, 1fr);
  }
  .chat-panel {
    width:100%;
  }
}
