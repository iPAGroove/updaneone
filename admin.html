<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>URSA Admin Panel ‚Äî –î–∞—à–±–æ—Ä–¥</title>
  <meta name="theme-color" content="#0d1117" />
  <meta name="color-scheme" content="dark" />

  <!-- –°—Ç–∏–ª–∏ (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è) -->
  <link rel="stylesheet" href="assets/css/admin.css?v=2" />
</head>

<body>
<noscript>
  <div style="padding:14px;background:#ff5252;color:#000;font-weight:600;text-align:center">
    –î–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∫–ª—é—á—ë–Ω–Ω—ã–π JavaScript.
  </div>
</noscript>

<div id="app-container">
  <!-- AUTH -->
  <div id="admin-auth" class="auth-screen" role="dialog" aria-labelledby="auth-title" aria-modal="true">
    <h2 id="auth-title">–í—Ö–æ–¥ –≤ Admin Panel</h2>
    <p class="muted" style="margin-bottom:20px">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à Google-–∞–∫–∫–∞—É–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</p>
    <button id="auth-login-btn" class="btn" aria-label="–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google</button>
    <p id="auth-error" class="error-text" aria-live="polite"></p>
  </div>

  <!-- DASHBOARD -->
  <div id="admin-dashboard" style="display:none;">
    <header class="admin-header" role="banner">
      <div class="brand">URSA <span>ADMIN</span></div>

      <nav class="admin-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º">
        <button class="nav-btn active" data-view="dashboard" aria-controls="view-dashboard" aria-selected="true">üìä –î–∞—à–±–æ—Ä–¥</button>
        <button class="nav-btn" data-view="apps" aria-controls="view-apps" aria-selected="false">üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</button>
        <button class="nav-btn" data-view="users" aria-controls="view-users" aria-selected="false">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
        <button class="nav-btn" data-view="orders" aria-controls="view-orders" aria-selected="false">üí∏ VIP –ó–∞—è–≤–∫–∏</button>
      </nav>

      <button id="admin-logout-btn" class="logout-btn" aria-label="–í—ã–π—Ç–∏ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏">–í—ã—Ö–æ–¥</button>
    </header>

    <main class="admin-main" role="main">
      <!-- DASHBOARD VIEW -->
      <section id="view-dashboard" class="view active" tabindex="0" aria-labelledby="dashboard-title">
        <h2 id="dashboard-title">üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        <div class="stats-grid">
          <div class="stat-card" role="status" aria-live="polite">
            <h3>–í—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h3><p id="stat-apps">0</p>
          </div>
          <div class="stat-card" role="status" aria-live="polite">
            <h3>VIP-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3><p id="stat-vip">0</p>
          </div>
          <div class="stat-card" role="status" aria-live="polite">
            <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã</h3><p id="stat-orders">0</p>
          </div>
          <div class="stat-card" role="status" aria-live="polite">
            <h3>UDID –≤ –±–∞–∑–µ</h3><p id="stat-signers">0</p>
          </div>
        </div>
      </section>

      <!-- APPS VIEW -->
      <section id="view-apps" class="view" aria-labelledby="apps-title" tabindex="0">
        <div class="view-head">
          <h2 id="apps-title">üì± –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h2>
          <div class="view-actions">
            <button id="add-app-btn" class="btn small-btn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </div>

        <label for="app-search" class="sr-only">–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</label>
        <input type="text" id="app-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é‚Ä¶" class="search-input" inputmode="search" />

        <!-- –¢–∞–±–ª–∏—Ü–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ç–µ–∫—É—â–∏–º admin.js -->
        <div class="table-scroll">
          <table class="data-table" id="apps-table">
            <thead>
              <tr>
                <th scope="col">–ò–∫–æ–Ω–∫–∞</th>
                <th scope="col">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th scope="col">VIP</th>
                <th scope="col">–ó–∞–≥—Ä—É–∑–∫–∏</th>
                <th scope="col">–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –Ω–∞ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div class="skeleton-list" id="apps-skeleton" aria-hidden="true">
          <div class="skeleton-item"></div>
          <div class="skeleton-item"></div>
          <div class="skeleton-item"></div>
        </div>
      </section>

      <!-- USERS VIEW -->
      <section id="view-users" class="view" aria-labelledby="users-title" tabindex="0">
        <h2 id="users-title">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
        <label for="user-search" class="sr-only">–ü–æ–∏—Å–∫ –ø–æ Email/UID</label>
        <input type="text" id="user-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ Email/UID‚Ä¶" class="search-input" inputmode="search" />

        <div class="table-scroll">
          <table class="data-table" id="users-table">
            <thead>
              <tr>
                <th scope="col">Email</th>
                <th scope="col">UID</th>
                <th scope="col">–°—Ç–∞—Ç—É—Å</th>
                <th scope="col">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</th>
                <th scope="col">–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="skeleton-list" id="users-skeleton" aria-hidden="true">
          <div class="skeleton-item"></div>
          <div class="skeleton-item"></div>
        </div>
      </section>

      <!-- ORDERS VIEW -->
      <section id="view-orders" class="view" aria-labelledby="orders-title" tabindex="0">
        <h2 id="orders-title">üí∏ VIP –ó–∞—è–≤–∫–∏</h2>

        <div class="table-scroll">
          <table class="data-table" id="orders-table">
            <thead>
              <tr>
                <th scope="col">ID –ó–∞–∫–∞–∑–∞</th>
                <th scope="col">UID</th>
                <th scope="col">–ú–µ—Ç–æ–¥</th>
                <th scope="col">–°—Ç–∞—Ç—É—Å</th>
                <th scope="col">–î–∞—Ç–∞</th>
                <th scope="col">–ß–∞—Ç</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="skeleton-list" id="orders-skeleton" aria-hidden="true">
          <div class="skeleton-item"></div>
          <div class="skeleton-item"></div>
          <div class="skeleton-item"></div>
        </div>
      </section>
    </main>
  </div>
</div>

<!-- APP MODAL -->
<div id="app-modal" class="admin-modal" aria-hidden="true" aria-labelledby="app-modal-title" role="dialog">
  <div class="modal-content">
    <button class="modal-close-btn" data-action="close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    <h3 id="app-modal-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h3>

    <form id="app-edit-form">
      <input type="hidden" id="app-id" />

      <label for="app-name">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
      <input type="text" id="app-name" required autocomplete="off" />

      <label for="app-version">–í–µ—Ä—Å–∏—è</label>
      <input type="text" id="app-version" inputmode="text" autocomplete="off" />

      <label for="app-url">–°—Å—ã–ª–∫–∞ –Ω–∞ IPA/DownloadUrl</label>
      <input type="url" id="app-url" required inputmode="url" placeholder="https://‚Ä¶" />

      <label for="app-icon">URL –∏–∫–æ–Ω–∫–∏ (200√ó200)</label>
      <input type="url" id="app-icon" inputmode="url" placeholder="https://‚Ä¶" />

      <label for="app-tags">–¢–µ–≥–∏ (apps, games, update) —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é</label>
      <input type="text" id="app-tags" inputmode="text" placeholder="apps, games" />

      <div class="checkbox-group">
        <input type="checkbox" id="app-vip-only" />
        <label for="app-vip-only">–¢–æ–ª—å–∫–æ –¥–ª—è VIP</label>
      </div>

      <label for="app-desc">–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea id="app-desc" placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ‚Ä¶"></textarea>

      <div class="modal-actions">
        <button type="submit" class="btn save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button type="button" class="btn delete-btn" id="app-delete-btn" style="display:none;">–£–¥–∞–ª–∏—Ç—å</button>
      </div>
    </form>
  </div>
</div>

<!-- CHAT MODAL -->
<div id="chat-modal" class="admin-modal" aria-hidden="true" aria-labelledby="chat-title" role="dialog">
  <div class="modal-content chat-content">
    <button class="modal-close-btn" data-action="close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    <h3 id="chat-title">–ß–∞—Ç VIP –ó–∞—è–≤–∫–∏: <span id="chat-order-id">N/A</span></h3>

    <div class="chat-area" id="admin-chat-area"></div>

    <div class="chat-input-container">
      <label for="admin-chat-input" class="sr-only">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
      <input class="chat-input" id="admin-chat-input" placeholder="–û—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é‚Ä¶" />
      <button class="chat-send-btn" id="admin-chat-send" aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ">‚û§</button>
    </div>

    <div class="admin-actions">
      <label for="order-status-select" class="sr-only">–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</label>
      <select id="order-status-select">
        <option value="pending">–û–∂–∏–¥–∞–µ—Ç</option>
        <option value="processing">–í —Ä–∞–±–æ—Ç–µ</option>
        <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
        <option value="canceled">–û—Ç–º–µ–Ω–µ–Ω–æ</option>
      </select>
      <button id="set-vip-btn" class="btn small-btn">‚úÖ –í—ã–¥–∞—Ç—å VIP</button>
    </div>
  </div>
</div>

<!-- Scripts -->
<script type="module" src="assets/js/app.js?v=1"></script>
<script type="module" src="assets/js/admin.js?v=1"></script>
</body>
</html>
